<!doctype html>
<html>
    <head>
        <title>jsPlumb Persistence</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" href="css/jsplumb.css">
        <link rel="stylesheet" href="demo.css">
        <link rel="shortcut icon" type="image/png" href="img/favicon.png">
    </head>
    <body data-demo-id="home" data-library="dom">
        <input type="button" id="save" value="Save"/>
        <input type="button" id="load" value="Load"/>
        <input type="button" id="delete" value="Delete"/>
        <textarea id='textarea'></textarea>
        <div id="main">

            <!-- demo -->
            <div class="" id="kitchensink-demo">
                <div class="component window" id="window1"><strong>Window 1</strong></div>
                <div class="component window" id="window2"><strong>Window 2</strong></div>
                <div class="component window" id="window3"><strong>Window 3</strong></div>
                <div class="component window" id="window4"><strong>Window 4</strong></div>
                <div class="component window" id="window5"><strong>Window 5</strong></div>
                <div class="component window" id="window6"><strong>Window 6</strong></div>
                <div class="component window" id="window7"><strong>Window 7</strong></div>
            </div>
            <!-- /demo -->
        </div>
        <script src="jquery-1.9.1.min.js"></script>
        <script src="jquery-ui.min.js"></script>
        <!-- JS -->
        <script src="jquery.jsPlumb-1.6.4.js"></script>
        <!--<script src="load.js"></script>-->
        <!--  demo code -->
        <script src="demo.js"></script>
        <script src="save.js"></script>

        <script>
            $("#save").click(function()
            {
                jsPlumb.save();
                alert("Nodes Saved Successfully");
            });


            $("#load").click(function()
            {
                var v = $("#textarea").val();
//                window.location.assign("load.html");
                console.log(jsPlumb);
                jsPlumb.reset();
                $("#main").html("");
                var elem = $("<div/>");
                elem.attr('id', "kitchensink-demo");
                $("#main").html(elem);
//                alert(v);
                jsPlumb.load(v);

            });


            $("#delete").click(function()
            {
                jsPlumb.reset();
                $("#main").html("");


            });
        </script>
    </body>
</html>
